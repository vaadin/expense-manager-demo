!function(t){"object"==typeof module&&module.exports?module.exports=t:t(Highcharts)}(function(t){var i,o=t.Axis,s=t.Chart,e=t.Color,a=t.Legend,n=t.LegendSymbolMixin,r=t.Series,l=t.Point,h=t.getOptions(),p=t.each,c=t.extend,d=t.extendClass,u=t.merge,g=t.pick,f=t.seriesTypes,m=t.wrap,y=function(){},x=t.ColorAxis=function(){this.isColorAxis=!0,this.init.apply(this,arguments)};c(x.prototype,o.prototype),c(x.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(t,i){var s,e="vertical"!==t.options.legend.layout;s=u(this.defaultColorAxisOptions,{side:e?2:1,reversed:!e},i,{opposite:!e,showEmpty:!1,title:null,isColor:!0}),o.prototype.init.call(this,t,s),i.dataClasses&&this.initDataClasses(i),this.initStops(i),this.horiz=e,this.zoomEnabled=!1},tweenColors:function(t,i,o){var s,e;return i.rgba.length&&t.rgba.length?(t=t.rgba,i=i.rgba,s=1!==i[3]||1!==t[3],e=(s?"rgba(":"rgb(")+Math.round(i[0]+(t[0]-i[0])*(1-o))+","+Math.round(i[1]+(t[1]-i[1])*(1-o))+","+Math.round(i[2]+(t[2]-i[2])*(1-o))+(s?","+(i[3]+(t[3]-i[3])*(1-o)):"")+")"):e=i.input||"none",e},initDataClasses:function(t){var i,o=this,s=this.chart,a=0,n=this.options,r=t.dataClasses.length;this.dataClasses=i=[],this.legendItems=[],p(t.dataClasses,function(t,l){var h;t=u(t),i.push(t),t.color||("category"===n.dataClassColor?(h=s.options.colors,t.color=h[a++],a===h.length&&(a=0)):t.color=o.tweenColors(e(n.minColor),e(n.maxColor),2>r?.5:l/(r-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],p(this.stops,function(t){t.color=e(t[1])})},setOptions:function(t){o.prototype.setOptions.call(this,t),this.options.crosshair=this.options.marker,this.coll="colorAxis"},setAxisSize:function(){var t,i,o,s,e=this.legendSymbol,a=this.chart;e&&(this.left=t=e.attr("x"),this.top=i=e.attr("y"),this.width=o=e.attr("width"),this.height=s=e.attr("height"),this.right=a.chartWidth-t-o,this.bottom=a.chartHeight-i-s,this.len=this.horiz?o:s,this.pos=this.horiz?t:i)},toColor:function(t,o){var s,e,a,n,r,l,h=this.stops,p=this.dataClasses;if(p){for(l=p.length;l--;)if(r=p[l],e=r.from,a=r.to,(e===i||t>=e)&&(a===i||a>=t)){n=r.color,o&&(o.dataClass=l);break}}else{for(this.isLog&&(t=this.val2lin(t)),s=1-(this.max-t)/(this.max-this.min||1),l=h.length;l--&&!(s>h[l][0]););e=h[l]||h[l+1],a=h[l+1]||e,s=1-(a[0]-s)/(a[0]-e[0]||1),n=this.tweenColors(e.color,a.color,s)}return n},getOffset:function(){var t=this.legendGroup,i=this.chart.axisOffset[this.side];t&&(this.axisParent=t,o.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=i)},setLegendColor:function(){var t,i=this.horiz,o=this.options,s=this.reversed,e=s?1:0,a=s?0:1;t=i?[e,0,a,0]:[0,a,0,e],this.legendColor={linearGradient:{x1:t[0],y1:t[1],x2:t[2],y2:t[3]},stops:o.stops||[[0,o.minColor],[1,o.maxColor]]}},drawLegendSymbol:function(t,i){var o=t.padding,s=t.options,e=this.horiz,a=g(s.symbolWidth,e?200:12),n=g(s.symbolHeight,e?12:200),r=g(s.labelPadding,e?16:30),l=g(s.itemDistance,10);this.setLegendColor(),i.legendSymbol=this.chart.renderer.rect(0,t.baseline-11,a,n).attr({zIndex:1}).add(i.legendGroup),this.legendItemWidth=a+o+(e?l:r),this.legendItemHeight=n+o+(e?r:0)},setState:y,visible:!0,setVisible:y,getSeriesExtremes:function(){var t;this.series.length&&(t=this.series[0],this.dataMin=t.valueMin,this.dataMax=t.valueMax)},drawCrosshair:function(t,i){var s,e=i&&i.plotX,a=i&&i.plotY,n=this.pos,r=this.len;i&&(s=this.toPixels(i[i.series.colorKey]),n>s?s=n-2:s>n+r&&(s=n+r+2),i.plotX=s,i.plotY=this.len-s,o.prototype.drawCrosshair.call(this,t,i),i.plotX=e,i.plotY=a,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup))},getPlotLinePath:function(t,i,s,e,a){return"number"==typeof a?this.horiz?["M",a-4,this.top-6,"L",a+4,this.top-6,a,this.top,"Z"]:["M",this.left,a,"L",this.left-6,a+6,this.left-6,a-6,"Z"]:o.prototype.getPlotLinePath.call(this,t,i,s,e)},update:function(t,i){var s=this.chart,e=s.legend;p(this.series,function(t){t.isDirtyData=!0}),t.dataClasses&&e.allItems&&(p(e.allItems,function(t){t.isDataClass&&t.legendGroup.destroy()}),s.isDirtyLegend=!0),s.options[this.coll]=u(this.userOptions,t),o.prototype.update.call(this,t,i),this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var o,s=this,e=this.chart,a=this.legendItems,r=e.options.legend,l=r.valueDecimals,h=r.valueSuffix||"";return a.length||p(this.dataClasses,function(r,d){var u=!0,g=r.from,f=r.to;o="",g===i?o="< ":f===i&&(o="> "),g!==i&&(o+=t.numberFormat(g,l)+h),g!==i&&f!==i&&(o+=" - "),f!==i&&(o+=t.numberFormat(f,l)+h),a.push(c({chart:e,name:o,options:{},drawLegendSymbol:n.drawRectangle,visible:!0,setState:y,isDataClass:!0,setVisible:function(){u=this.visible=!u,p(s.series,function(t){p(t.points,function(t){t.dataClass===d&&t.setVisible(u)})}),e.legend.colorizeItem(this,u)}},r))}),a},name:""}),p(["fill","stroke"],function(i){t.Fx.prototype[i+"Setter"]=function(){this.elem.attr(i,x.prototype.tweenColors(e(this.start),e(this.end),this.pos))}}),m(s.prototype,"getAxes",function(t){var i=this.options,o=i.colorAxis;t.call(this),this.colorAxis=[],o&&new x(this,o)}),m(a.prototype,"getAllItems",function(t){var i=[],o=this.chart.colorAxis[0];return o&&(o.options.dataClasses?i=i.concat(o.getDataClassLegendSymbols()):i.push(o),p(o.series,function(t){t.options.showInLegend=!1})),i.concat(t.call(this))});var C={setVisible:function(t){var i=this,o=t?"show":"hide";p(["graphic","dataLabel"],function(t){i[t]&&i[t][o]()})}},v={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:y,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var t=this,i=this.options.nullColor,o=this.colorAxis,s=this.colorKey;p(this.data,function(e){var a,n=e[s];a=e.options.color||(null===n?i:o&&void 0!==n?o.toColor(n,e):e.color||t.color),a&&(e.color=a)})}};h.plotOptions.heatmap=u(h.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}}),f.heatmap=d(f.scatter,u(v,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,pointClass:d(l,C),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var t;f.scatter.prototype.init.apply(this,arguments),t=this.options,t.pointRange=g(t.pointRange,t.colsize||1),this.yAxis.axisPointRange=t.rowsize||1},translate:function(){var t=this,i=t.options,o=t.xAxis,s=t.yAxis,e=function(t,i,o){return Math.min(Math.max(i,t),o)};t.generatePoints(),p(t.points,function(t){var a=(i.colsize||1)/2,n=(i.rowsize||1)/2,r=e(Math.round(o.len-o.translate(t.x-a,0,1,0,1)),0,o.len),l=e(Math.round(o.len-o.translate(t.x+a,0,1,0,1)),0,o.len),h=e(Math.round(s.translate(t.y-n,0,1,0,1)),0,s.len),p=e(Math.round(s.translate(t.y+n,0,1,0,1)),0,s.len);t.plotX=t.clientX=(r+l)/2,t.plotY=(h+p)/2,t.shapeType="rect",t.shapeArgs={x:Math.min(r,l),y:Math.min(h,p),width:Math.abs(l-r),height:Math.abs(p-h)}}),t.translateColors(),this.chart.hasRendered&&p(t.points,function(t){t.shapeArgs.fill=t.options.color||t.color})},drawPoints:f.column.prototype.drawPoints,animate:y,getBox:y,drawLegendSymbol:n.drawRectangle,getExtremes:function(){r.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,r.prototype.getExtremes.call(this)}}))});