function checkArguments(arguments){_.forEach(arguments,function(e){if(!config.has(e))throw Error("Required variable '"+e+"'  is missing.")})}var gulp=require("gulp"),bower=require("gulp-bower"),replace=require("gulp-replace"),_=require("lodash"),rsync=require("gulp-rsync"),util=require("gulp-util"),config=require("config"),cdnPath=config.dest+"/cdn/vaadin-charts/"+config.version+"/",cdnUserName="cdn.username",cdnHost="cdn.host",cdnDestination="cdn.destination";gulp.task("cdn:stage",["cdn:copy-sources","cdn:copy-directives","cdn:copy-react","cdn:install-dependencies"]),gulp.task("cdn:copy-sources",function(){return gulp.src(config.files.src).pipe(replace("../","")).pipe(gulp.dest(cdnPath))}),gulp.task("cdn:copy-directives",function(){return gulp.src(config.files.directives).pipe(gulp.dest(cdnPath+"directives"))}),gulp.task("cdn:copy-react",function(){return gulp.src(config.files.react).pipe(gulp.dest(cdnPath+"react"))}),gulp.task("cdn:install-dependencies",function(){return bower({forceLatest:!0}).pipe(gulp.dest(cdnPath))}),gulp.task("cdn:deploy",["cdn:stage"],function(){return checkArguments([cdnUserName,cdnHost,cdnDestination]),util.log("Publishing to CDN "+config.get(cdnUserName)+"@"+config.get(cdnHost)+config.get(cdnDestination)),gulp.src(cdnPath).pipe(rsync({username:config.get(cdnUserName),hostname:config.get(cdnHost),root:cdnPath,emptyDirectories:!1,recursive:!0,clean:!0,silent:!0,destination:config.get(cdnDestination)+config.version}))});